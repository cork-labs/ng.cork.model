!function(a){"use strict";var b=a.module("ng.cork.model.space",["ng.cork.util"]),c=a.copy,d=a.isString,e=a.isFunction;b.factory("CorkModelSpace",["$injector","corkUtil",function(a,b){var f={},g=function(g){var h=this;g=b.extend(c(f),g||{});var i={};h.model=function(b,c){if(!d(b))throw new Error("Invalid model name.");if(arguments.length>1){if(i[b])throw new Error('A factory for model "'+b+'" is already registered.');if(d(c))i[b]={name:b,$constructor:c,$new:function(b){var d=a.get(c);return new d(b)}};else{if(!e(c))throw new Error('Invalid factory for model "'+b+'".');i[b]={name:b,$factory:c.name,$new:c}}return this}if(!i[b])throw new Error('Unknown model "'+b+'".');return i[b]}};return g}])}(angular);